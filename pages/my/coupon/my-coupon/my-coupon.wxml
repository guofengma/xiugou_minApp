<import src='/pages/my/coupon/temp/coupon-temp.wxml'/>

<view class='pagesize'>
    <scroll-view scroll-x="true" class="tab-h" scroll-left="{{scrollLeft}}">
        <view class="tab-item {{currentTab==0?'red':'gray'}}"  data-current="0" bindtap="swichNav">未使用</view>
        <view class="tab-item {{currentTab==1?'red':'gray'}}" data-current="1" bindtap="swichNav">已失效</view>
        <view class="tab-item {{currentTab==2?'red':'gray'}}" data-current="2" bindtap="swichNav">已使用</view>
    </scroll-view>
    <swiper class="tab-content {{currentTab==0&&door==1? 'tab-active':''}}" current="{{currentTab}}" duration="300" bindchange="switchTab">
        <swiper-item wx:for="{{lists}}" wx:for-index="key" wx:for-item="list"  wx:key="{{key}}">
            <scroll-view scroll-y class="scoll-h" bindscrolltolower="onScroll" wx:if='{{currentTab==key}}'>
              <block wx:for="{{list}}" wx:key="{{index}}">
                <template is="coupon-temp" data="{{item,index,key}}"/>
              </block>
              <view wx:if='{{list.length==0}}' class='flexC coupon-img'>
                <image src='/img/coupon-icon.png' mode='widthFix'></image>
                <view class='gray font-30'>暂无优惠券~</view>
              </view>
            </scroll-view>
        </swiper-item>
    </swiper>
    <view class='btn-view flexR fixed-bottom font-30 whiteBg' wx:if="{{currentTab==0&door==1}}" catchtap='giveUpUse'>放弃使用优惠券</view> 
</view>