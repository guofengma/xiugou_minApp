<template name='good-item'>
  <view class='good-item' 
    bindtap="showGoodDetail" 
    data-code="{{prodCode}}" 
    data-status="{{status}}"
    data-type="{{productType}}"
  >
    <view class='good-item-thumb-container'>
      <image src="{{specImg}}"
        class='good-item-thumb'
      ></image>
      <image class='good-soldout' wx:if="{{status >= 3}}" src="/img/soldout.png"></image>
    </view>
    
    <view class='good-detail'>
      <view class='good-title ellipsis-2'>{{productName}}</view>
      <view class='good-type good-type-tip' wx:if="{{status === 1}}">{{reseCount}}关注</view>
      <view class='good-type good-type-ing' wx:elif="{{status === 2}}">
        <view class='flexR-sb'>
          <view class='good-loot-already'>已抢{{totalNumber - surplusNumber}}件</view>
          <view class='good-loot-progress'>{{~~(((totalNumber - surplusNumber)/totalNumber)*100)}}%</view>
        </view>
      </view>
      <view class='good-type good-type-out' wx:else>抢光了{{totalNumber}}件</view>
      
      <view class='good-foot'>
        <view class='good-price'>
          <view class='good-price-discount' 
            style="color:{{status === 2 ? '#D51243' : '#E60012'}}"
          >¥52</view>
          <view class='good-price-origin'>¥159.00</view>
        </view>
        
        <view class='good-operate tip {{!notifyFlag ? "flexR" : ""}}' 
          bindtap='toggleSubscribeItem' 
          data-type="{{notifyFLag ? 0 : 1}}"
          data-index="{{index}}"
          data-activity-id="{{id}}"
          wx:if="{{status === 1}}"
        >
          <image src='/img/Clock.png' class="icon" wx:if="{{!notifyFlag}}"></image>
          <text>{{!notifyFlag ? '设置提醒' : '取消提醒'}}</text>
        </view>
        <view class='good-operate loot' wx:elif="{{status === 2}}">马上抢</view>
        <view class='good-operate out' wx:else>抢光了</view>
      
      </view>
    </view>
  </view>
</template>